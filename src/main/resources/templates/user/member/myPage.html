<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <title>My Page</title>

    <style>
        /* Styling for individual buttons */
        .nav-btn {
            background-color: #35373c;  /* Blue background */
            color: white;               /* White text */
            border: none;               /* Remove default borders */
            padding: 5px 15px;         /* Padding inside the button */
            font-size: 14px;            /* Button text size */
            cursor: pointer;            /* Show pointer cursor on hover */
            border-radius: 8px;         /* Rounded corners */
            min-width: 180px; /* Minimum button width */
            /*flex-grow: 1;     !* Allow the buttons to expand *!*/
            text-align: center;
        }

        .nav-btn.active {
            background-color: #606465;  /* Highlight color for active button */
        }

        /* Button hover effect */
        .nav-btn:hover {
            background-color: #606465;  /* Darker blue on hover */
        }
    </style>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const activeSection = document.body.dataset.activeSection;
            console.log(activeSection); // Move the log inside the event listener
            if (activeSection) {
                const activeElement = document.querySelector(`[data-target="${activeSection}"]`);
                if (activeElement) {
                    activeElement.classList.add('active');
                } else {
                    console.error(`No element found with data-target="${activeSection}"`);
                }
            }
        });
    </script>
</head>
<body th:attr="data-active-section=${activeSection}">
    <div th:replace="fragments/header :: header"></div>

    <h1>HELLO, <span th:text="${memberName}"></span>ë‹˜!</h1>

    <nav class="mypage-nav-buttons">
        <a th:href="@{/user/member/update}" class="nav-btn" data-target="update">UPDATE DATA</a>
        <a th:href="@{/}" class="nav-btn" data-target="cart">MY CART</a>
        <a th:href="@{/user/pay/payList}" class="nav-btn" data-target="order">MY ORDER</a>
        <a th:href="@{/}" class="nav-btn" data-target="review">MY REVIEW</a>
        <a th:href="@{/user/inquiry/list}" class="nav-btn" data-target="inquiry">INQUIRY</a>
        <a th:href="@{/}" class="nav-btn" data-target="delete">DELETE ACCOUNT</a>
    </nav>

    <main>
        <div th:switch="${activeSection}">
            <div th:case="'update'" th:include="user/member/update :: update"></div>
            <div th:case="'inquiry'" th:include="user/inquiry/list :: inquiry"></div>
            <!--            <div th:case="'cart'" th:include="user/ :: cart"></div>-->
            <div th:case="'order'" th:include="user/pay/payList :: order"></div>
            <div th:case="'orderDetail'" th:include="user/pay/findPayDetail :: orderDetail"></div>
            <!--            <div th:case="'review'" th:include="user/ :: order"></div>-->
            <!--            <div th:case="'delete'" th:include="user/member/delete :: order"></div>-->

        </div>
    </main>

    <div th:replace="fragments/footer :: footer"></div>
</body>
</html>